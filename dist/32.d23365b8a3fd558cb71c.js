(self.webpackChunkrm_frontend=self.webpackChunkrm_frontend||[]).push([[32,34,37,39,45,33,43],{1374:function(t,e,r){"use strict";var i;r.d(e,{Y:function(){return i}}),function(t){t.visual="visual",t.standard="standard",t.minimal="minimal"}(i||(i={}))},1385:function(t,e,r){"use strict";var i=r(353),n=r(1374),o=r(651);function a(t){var e=(0,i.useMemo)((function(){var e=new URLSearchParams({auto_play:"false",hide_related:"true",auto_advance:"true",show_user:"true",url:t.url,color:"".concat(t.color),show_comments:"".concat(t.comments),buying:"".concat(t.socials),liking:"".concat(t.socials),download:"".concat(t.socials),sharing:"".concat(t.socials),show_artwork:"".concat(t.artwork),visual:"".concat(t.type===n.Y.visual||t.type===n.Y.minimal)});return"https://w.soundcloud.com/player/?".concat(e.toString())}),[t]);return(0,o.jsx)("iframe",{"data-testid":"soundcloud-player-iframe",width:"100%",height:"100%",scrolling:"no",frameBorder:"no",src:e})}var s=i.memo(a);e.Z=s},1371:function(t,e,r){"use strict";var i,n,o;r.d(e,{i2:function(){return i},uI:function(){return n},FU:function(){return o}}),function(t){t.click="click",t.mousemove="mousemove",t.hover="hover",t.scroll="scroll"}(i||(i={})),function(t){t.horizontally="horizontally",t.vertically="vertically"}(n||(n={})),function(t){t.bottom="bottom",t.center="center",t.top="top"}(o||(o={}))},1427:function(t,e,r){"use strict";r.d(e,{n:function(){return i}});var i=r(353).createContext({model:{pageScale:1,pageContentTop:0,magContainerHeight:0,widgetBoxTop:0,isStarted:!1,canBeUsed:!0,isSelected:!1}})},1425:function(t,e,r){"use strict";var i,n=r(353),o=r(689),a=r(308),s=r(955),l=r(1e3),c=r.n(l),u=r(661),d=r(651);function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],i=!0,n=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(r.push(a.value),!e||r.length!==e);i=!0);}catch(t){n=!0,o=t}finally{try{i||null==s.return||s.return()}finally{if(n)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}var m=function(t){var e=t.url,r=t.label,i=h((0,n.useState)(!1),2),o=i[0],a=i[1];return(0,d.jsx)(c(),{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},as:"a",href:e,color:o?"orange":"white",fontFamily:"Graphik",fontWeight:400,fontSize:16,letterSpacing:-.04,lineHeight:"24px",display:"inline-block",textDecoration:"none",fontStyle:"normal"},r)},f=function(t){var e=t.items,r=t.width,i=t.title,n=t.isMobile;return(0,d.jsx)(s.Box,{width:r},(0,d.jsx)(s.Box,{borderBottom:"1px solid rgba(128, 128, 128, 0.24)",paddingBottom:"6px",marginBottom:"16px"},(0,d.jsx)(c(),{fontFamily:"Graphik",fontWeight:400,fontSize:16,letterSpacing:-.04,lineHeight:"24px",color:"darkGray",fontStyle:"normal"},i)),(0,d.jsx)(s.Box,e.length>1&&!n?{display:"flex",alignItems:"flex-start",justifyContent:"space-between"}:{},e.map((function(t,r){return(0,d.jsx)(s.Box,{key:"ul-".concat(r),marginBottom:n&&t.mobileSeparator?36:void 0},t.items.map((function(t,i){return(0,d.jsx)(s.Box,{marginRight:e.length-1!==r||n?void 0:30,key:"ul-".concat(r,"-li-").concat(i)},(0,d.jsx)(m,{url:t.url,label:t.label}))})))}))))};e.Z=function(t){var e,r,l=t.isFullSize,h=void 0!==l&&l,p=a.Z.readymag_host,m=(0,n.useContext)(o.BackboneContext).model,g=!(null!=m&&m.isFullSize||h);return(0,d.jsx)(s.Box,{backgroundColor:"rgb(40, 40, 40)",height:"100%",width:"100%",css:(0,u.css)(i||(e=["\n        ","\n      "],r||(r=e.slice(0)),i=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))),null==m?void 0:m.style)},(0,d.jsx)(s.Box,{margin:"0 auto",width:"100%",maxWidth:g?"none":1024,height:"100%",padding:g?"36px 20px 36px":"58px 20px 36px"},(0,d.jsx)(s.Box,{alignItems:"flex-start",justifyContent:"space-between",display:g?"block":"flex"},(0,d.jsx)(f,{title:"company",isMobile:g,width:g?"100%":185,items:[{mobileSeparator:!0,items:[{label:"about",url:"".concat(p,"/about/")},{label:"terms of service",url:"".concat(p,"/readymag/terms-and-privacy/")},{label:"privacy policy",url:"".concat(p,"/readymag/terms-and-privacy/2/")},{label:"cookie policy",url:"".concat(p,"/readymag/terms-and-privacy/cookie_policy/")},{label:"we are hiring",url:"".concat(p,"/readymag/we-are-hiring/")}]}]}),(0,d.jsx)(f,{title:"product",isMobile:g,width:g?"100%":185,items:[{mobileSeparator:!0,items:[{label:"product updates",url:"https://medium.com/readymag/product-updates/home"},{label:"community",url:"https://forum.readymag.com/"},{label:"help",url:"https://help.readymag.com/"}]}]}),(0,d.jsx)(f,{title:"case studies",isMobile:g,width:g?"100%":185,items:[{mobileSeparator:!0,items:[{label:"design studio",url:"".concat(p,"/for-designers")},{label:"customer stories",url:"".concat(p,"/customers/main")},{label:"portfolio",url:"".concat(p,"/portfolio")},{label:"editorial",url:"".concat(p,"/editorial")},{label:"presentations",url:"".concat(p,"/presentations")}]}]}),(0,d.jsx)(f,{title:"readymag editorials",isMobile:g,width:g?"100%":185,items:[{mobileSeparator:!0,items:[{label:"design almanac",url:"".concat(p,"/almanac")},{label:"design stories",url:"".concat(p,"/designstories")},{label:"enso",url:"https://enso.readymag.com/"},{label:"designing women",url:"https://designingwomen.readymag.com/"},{label:"projects of the year",url:"".concat(p,"/projects-of-the-year/")},{label:"special projects",url:"".concat(p,"/special-projects/")}]}]}),(0,d.jsx)(f,{title:"subscribe to",isMobile:g,width:g?"100%":185,items:[{mobileSeparator:!0,items:[{label:"newsletter",url:"http://subscribe.readymag.com/"},{label:"youtube",url:"https://www.youtube.com/channel/UCz3Ylsb-JuM76cS1nsfyCLw"},{label:"medium",url:"https://medium.com/readymag"},{label:"facebook",url:"https://www.facebook.com/readymag"},{label:"instagram",url:"https://www.instagram.com/readymag/"},{label:"twitter",url:"https://twitter.com/readymag"},{label:"pinterest",url:"https://www.pinterest.ru/readymagpins/boards/"},{label:"are.na",url:"https://www.are.na/readymag"},{label:"dribbble",url:"https://dribbble.com/readymag"}]}]})),(0,d.jsx)(s.Box,{alignItems:"flex-start",display:g?"block":"flex"},(0,d.jsx)(s.Box,{width:g?"100%":252},(0,d.jsx)(c(),{fontFamily:"Graphik",color:"darkGray",fontWeight:400,fontSize:12,letterSpacing:-.04,lineHeight:g?"1":"24px"},"Â© ",(new Date).getFullYear()," Readymag Inc.")))))}},1384:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return b}});var i=r(336),n=r.n(i),o=r(1381),a=r(689),s=r(353),l=r(1385),c=r(651);var u=function(){var t=(0,s.useContext)(a.BackboneContext).model;return t.url?(0,c.jsx)(l.Z,{url:t.url,socials:t.socials,artwork:t.artwork,type:t.current_type,color:t.color,comments:t.comments}):null},d=r(339);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=w(t);if(e){var n=w(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return y(this,r)}}function y(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(l,t);var e,r,i,s=g(l);function l(){return p(this,l),s.apply(this,arguments)}return e=l,(r=[{key:"initialize",value:function(t,e,r){this.model=new(n().Model)(t),o.Z.prototype.initialize.apply(this,[t,e,r])}},{key:"render",value:function(){var t=this;return this.makeBox("audio"),d.default.loadScript("https://w.soundcloud.com/player/api.js",{cache:!0}).catch((function(){})).finally((function(){if((0,a.renderReact)({component:u,domElement:t.$el[0],model:t.model}),void 0!==window.SC){var e=window.SC.Widget(t.$el.find("iframe")[0]);e.bind(window.SC.Widget.Events.READY,t.widgetIsLoaded),e.bind(window.SC.Widget.Events.ERROR,t.widgetIsLoaded)}else t.widgetIsLoaded()})),this.rendered=!0,this}},{key:"isValid",value:function(){return!!this.model.get("url")}}])&&m(e.prototype,r),i&&m(e,i),l}(o.Z)},1426:function(t,e,r){"use strict";r.r(e);var i=r(1381),n=(r(353),r(336)),o=r.n(n),a=r(689),s=r(1427),l=r(1371),c=r(344),u=r(651);function d(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){f(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t,e,r,i,n,o,a){try{var s=t[o](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(i,n)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(i,n){var o=t.apply(e,r);function a(t){g(o,i,n,a,s,"next",t)}function s(t){g(o,i,n,a,s,"throw",t)}a(void 0)}))}}var w,b,v=i.Z.extend({triggerWidgets:[],initialize:function(t,e,r){this.model=new(o().Model)(t),i.Z.prototype.initialize.apply(this,[t,e,r])},render:(b=y(regeneratorRuntime.mark((function t(){var e,i,n,l,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.basePath&&this.numberOfImages){t.next=2;break}return t.abrupt("return");case 2:return this.makeBox("widget-shots"),t.next=5,Promise.resolve().then(r.bind(r,689));case 5:return e=t.sent,i=e.renderReact,t.next=9,Promise.all([r.e(25),r.e(31)]).then(r.bind(r,1536));case 9:return n=t.sent,l=n.Shots,this.stateModel=new(o().Model)(this.getCurrentState()),i({component:function(){return(0,u.jsx)(a.CreateContextProvider,{context:s.n,model:c.stateModel},(0,u.jsx)(l,{mode:window.RM.screenshot?"screenshoter":"viewer",onFirstRender:c.onFirstRender,onFirstFrameLoaded:c.widgetIsLoaded,onAllImagesLoaded:c.onAllImagesLoaded}))},domElement:this.el,model:this.model}),t.abrupt("return",this);case 15:case"end":return t.stop()}}),t,this)}))),function(){return b.apply(this,arguments)}),getCurrentState:function(){return{pageScale:this.page.scale,pageContentTop:this.page.contentPosition.top,magContainerHeight:this.page.mag.getContainerSizeCached().height,widgetBoxTop:this.calcBoxStyle({calcBBox:!0}).dimensions.top}},getViewerType:function(){return this.page.mag&&this.page.mag.viewOpts&&this.page.mag.viewOpts.viewertype||"vertical"},onFirstRender:function(){var t;(this.rendered=!0,this._scheduleStart&&this.start(),this.playbackType===l.i2.scroll)&&(t=this.isAbove()&&"vertical"===this.getViewerType()?this.page.mag.getScroll():this.page.getScroll(),this.handleScroll(t))},handleScroll:function(t){this.rendered&&this.stateModel.set(m(m({},this.getCurrentState()),{},{currentScrollOffset:t}))},handlePointerMovement:function(t){if(this.rendered){"touches"in t&&"horizontal"===this.getViewerType()&&this.hoverDirection===l.uI.horizontally&&t.stopPropagation();var e="touches"in t?t.touches[0].clientX:t.clientX,r="touches"in t?t.touches[0].clientY:t.clientY,i=t.target;if(i){var n=i.getBoundingClientRect(),o=c.Z.isCSSTransform()?1:this.page.scale,a=e/o-n.left,s=r/o-n.top;this.hoverDirection===l.uI.horizontally?this.stateModel.set({hoverPercent:a/n.width}):this.hoverDirection===l.uI.vertically&&this.stateModel.set({hoverPercent:s/n.height})}}},getTriggerWidgets:(w=y(regeneratorRuntime.mark((function t(){var e,r,i,n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],r=d(this.triggers),t.prev=2,n=regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.value,n=void 0,t.prev=2,t.next=5,o.page.mag.getWidgetById(r,o.page);case 5:n=t.sent,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(2),t.abrupt("return","continue");case 11:if(n){t.next=13;break}return t.abrupt("return","continue");case 13:if(!n.rendered){t.next=17;break}e.push(n),t.next=20;break;case 17:return t.next=19,new Promise((function(t){return o.listenToOnce(n,"rendered",t)}));case 19:e.push(n);case 20:case"end":return t.stop()}}),t,null,[[2,8]])})),r.s();case 5:if((i=r.n()).done){t.next=12;break}return t.delegateYield(n(),"t0",7);case 7:if("continue"!==t.t0){t.next=10;break}return t.abrupt("continue",10);case 10:t.next=5;break;case 12:t.next=17;break;case 14:t.prev=14,t.t1=t.catch(2),r.e(t.t1);case 17:return t.prev=17,r.f(),t.finish(17);case 20:return e.length||e.push(this),t.abrupt("return",e);case 22:case"end":return t.stop()}}),t,this,[[2,14,17,20]])}))),function(){return w.apply(this,arguments)}),bindTriggers:function(t,e){var r=this;return y(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,r.getTriggerWidgets();case 2:r.triggerWidgets=i.sent,r.triggerWidgets.forEach((function(r){if(r.el instanceof HTMLElement){var i,n=d(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;r.el.addEventListener(o,e)}}catch(t){n.e(t)}finally{n.f()}}}));case 4:case"end":return i.stop()}}),i)})))()},unbindTriggers:function(t,e){this.triggerWidgets.forEach((function(r){if(r.el instanceof HTMLElement){var i,n=d(t);try{for(n.s();!(i=n.n()).done;){var o=i.value;r.el.removeEventListener(o,e)}}catch(t){n.e(t)}finally{n.f()}}}))},handleContext:function(t){t.preventDefault()},handleMouseHover:function(t){"touchstart"===t.type&&t.target.setAttribute("draggable","true"),"touchend"!==t.type&&"touchcancel"!==t.type||t.target.removeAttribute("draggable"),this.stateModel.set({mouseIn:"mouseenter"===t.type||"touchstart"===t.type})},handleMouseHoverInitCursor:function(t){var e=t.target;if(e){var r=e.getBoundingClientRect(),i=t.pageX>=r.x&&t.pageX<=r.x+r.width,n=t.pageY>=r.y&&t.pageY<=r.y+r.height,o=i&&n;this.stateModel.set({mouseIn:o}),this.unbindTriggers(["mousemove"],this.handleMouseHoverInitCursor)}},handleClick:function(){this.stateModel.set({mouseIn:!this.stateModel.get("mouseIn")})},onAllImagesLoaded:function(){var t=this;this.playbackType===l.i2.hover?(this.bindTriggers(["mouseenter","mouseleave","touchstart","touchend","touchcancel"],this.handleMouseHover),Modernizr.ismobile&&this.bindTriggers(["contextmenu"],this.handleContext)):this.playbackType===l.i2.click&&this.bindTriggers(["click"],this.handleClick).then((function(){t.triggerWidgets.forEach((function(t){t.el instanceof HTMLElement&&t.el.classList.add("interactive")}))}))},start:function(){for(var t=this,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];i.Z.prototype.start.apply(this,r),this.rendered?(this.playbackType===l.i2.scroll?this.isAbove()&&"vertical"===this.getViewerType()?this.listenTo(this.page.mag,"mag scroll",this.handleScroll):this.listenTo(this.page,"page scroll",this.handleScroll):(this.playbackType===l.i2.hover&&void 0===this.pausable||this.playbackType===l.i2.mousemove)&&this.bindTriggers(["mousemove","touchmove"],this.handlePointerMovement),setTimeout((function(){t.stateModel.set({isStarted:!0})}),1)):this._scheduleStart=!0},stop:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.Z.prototype.stop.apply(this,e),this.rendered&&(this.stopListening(),this.unbindTriggers(["mousemove","touchmove"],this.handlePointerMovement),this.unbindTriggers(["mouseenter","mouseleave","touchstart","touchend","touchcancel"],this.handlePointerMovement),this.unbindTriggers(["contextmenu"],this.handleContext),this.unbindTriggers(["click"],this.handleClick),this.stateModel.set({isStarted:!1}))},destroy:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];i.Z.prototype.destroy.apply(this,e)}});e.default=v},1396:function(t,e,r){"use strict";var i,n,o,a,s=r(351);function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}e.Z=(l(a={},"template-constructor-block-facebook-type_like_button",(0,s.f)(i||(i=c(['\n\t<div class="fb-like fb" data-href="<%-data.url ? data.url : \'http://readymag.com\'%>" <%=data.share_button || data.send_button ? \'data-share="true"\' : \'\'%> data-width="<%=data.w%>" data-show-faces="<%=data.show_faces%>" data-colorscheme="<%=data.theme%>" data-layout="<%=data.layout%>" data-type="data.type_like_button"></div>\n\t<div class="overlay"></div>\n'])))),l(a,"template-constructor-block-facebook-type_page",(0,s.f)(n||(n=c(['\n\t<div class="fb-page fb" data-href="<%-data.url ? data.url : \'https://www.facebook.com/readymag\'%>" data-width="<%=data.w%>" data-height="<%=data.h%>" data-show-facepile="<%=data.show_faces%>" data-colorscheme="<%=data.theme%>" data-tabs="<%=data.show_stream ? \'timeline, events, messages\' : \'\'%>" data-show-border="true" data-small-header="<%=data.small_header%>" data-adapt-container-width="true"></div>\n\t<div class="overlay"></div>\n'])))),l(a,"template-constructor-block-facebook-type_comments",(0,s.f)(o||(o=c(['\n\t<div class="fb-comments fb" data-href="<%-data.url ? data.url : \'http://readymag.com\'%>" data-width="<%=data.w%>" data-num-posts="<%=data.num_posts%>" data-colorscheme="<%=data.theme%>"></div>\n\t<div class="overlay"></div>\n'])))),a)},1416:function(t,e,r){"use strict";var i,n,o,a,s,l,c=r(351);function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}e.Z=(u(l={},"template-constructor-block-twitter-type_tweet",(0,c.f)(i||(i=d(['\n\t<a href="https://twitter.com/share" class="twitter-share-button" data-url="<%-url%>" data-lang="en" data-size="<%=large_button ? \'large\' : \'medium\'%>" data-text="<%- typeof text !== \'undefined\' ? text : \'\'%>">Tweet</a>\n\t<div class="overlay"></div>\n'])))),u(l,"template-constructor-block-twitter-type_follow",(0,c.f)(n||(n=d(['\n\t<a href="https://twitter.com/<%-username ? username : \'Readymag\'%>" class="twitter-follow-button" data-show-count="false" data-show-screen-name="<%=show_name ? \'true\' : \'false\'%>" data-lang="en" data-size="<%=large_button ? \'large\' : \'medium\'%>">Follow @<%-username%></a>\n\t<div class="overlay"></div>\n'])))),u(l,"template-constructor-block-twitter-type_hashtag",(0,c.f)(o||(o=d(['\n\t<a href="https://twitter.com/intent/tweet?button_hashtag=<%-hash%>" class="twitter-hashtag-button" data-size="<%=large_button ? \'large\' : \'medium\'%>">Tweet #<%-hash%></a>\n\t<div class="overlay"></div>\n'])))),u(l,"template-constructor-block-twitter-type_timeline",(0,c.f)(a||(a=d(['\n\t<%=code%>\n\t<div class="overlay"></div>\n'])))),u(l,"template-constructor-block-twitter-type_embed",(0,c.f)(s||(s=d(['\n\t<%=code%>\n\t<div class="overlay"></div>\n'])))),l)},1393:function(t,e,r){"use strict";r.r(e);var i=r(312),n=r(1391),o=r(1394),a=r.n(o),s=r(339),l=r(308),c=r(1383),u=n.default.extend({initialize:function(){n.default.prototype.initialize.apply(this,arguments),this.is_above&&this.mag.on("destroyed",this.destroy),this["bar-auto-open"]&&(this.mag.eCommerceManager.openSidebarOnAddItem=!0)},render:function(){var t=this,e=!1;if(RM.screenshot)window.ServerData.userPermissions&&window.ServerData.userPermissions.can_use_e_commerce&&(e=!0);else{var r=c.Z.getPermissions();r&&r.can_use_e_commerce&&(e=!0)}if(e){if(n.default.prototype.render.apply(this,[{withoutHoverCursor:!0}]),this.$el.addClass("e-com-cart-button"),!RM.screenshot){this.mag.eCommerceManager.events.on("ecommerce:cartdata:changed",this.renderTotalItems);var i=this["font-family"];if(i&&!l.Z.systemFontsList.includes(i.toLowerCase()))new(a())(this["font-family"]).load().then((function(){t.renderTotalItems(t.mag.eCommerceManager.getCartData())})).catch((function(){t.renderTotalItems(t.mag.eCommerceManager.getCartData())}));else this.renderTotalItems(this.mag.eCommerceManager.getCartData())}return this}},renderTotalItems:function(t){if(t&&(t.skus||t.prices)){var e=0;for(var r in t.skus)t.skus.hasOwnProperty(r)&&(e+=t.skus[r].cart_count);for(var i in t.prices)t.prices.hasOwnProperty(i)&&(e+=t.prices[i].cart_count);var n=e?"".concat(this.text||""," ").concat(e):this.text||"",o=this.recalcTextInputSize(n);this.renderButtonTextWithSizes(n,o)}},onButtonClick:function(){this.mag.eCommerceManager.changeCartSidebarVisibility()},recalcTextInputSize:function(t){var e,r,n,o,a=this["font-size"],l=this["letter-spacing"],c=this["font-family"],u=this["font-style"],d=this["font-weight"];return this.$textInputSizeAdjuster||(this.$textInputSizeAdjuster=(0,i.ZP)("<div/>"),this.$textInputSizeAdjuster.css({position:"absolute",left:"-9999px",top:"-9999px","white-space":"pre",width:"auto"}),(0,i.ZP)(document.getElementById("tmp")).append(this.$textInputSizeAdjuster)),this.$textInputSizeAdjuster.addClass("for-text-size-calc").addClass(s.default.generateUUID()),this.$textInputSizeAdjuster.text(t.trim()),this.$textInputSizeAdjuster.css({"font-family":c,"font-style":u,"font-weight":d,"font-size":a+"px","letter-spacing":l+"px"}),e=this.$textInputSizeAdjuster.width(),r=this.$textInputSizeAdjuster.height(),this.$textInputSizeAdjuster.css("letter-spacing",0).text("M"),n=this.$textInputSizeAdjuster.width(),n=2*Math.ceil(n/2),o=this.$textInputSizeAdjuster.height(),0===t.length&&(e=n,r=o),e=2*Math.ceil(e/2),{text_w:e+=n,text_h:r=2*Math.ceil(r/2)}},destroy:function(){return this.mag.eCommerceManager.events.off("ecommerce:cartdata:changed",this.renderTotalItems),this.$textInputSizeAdjuster&&(this.$textInputSizeAdjuster.remove(),this.$textInputSizeAdjuster=null),n.default.prototype.destroy.apply(this,arguments)}});e.default=u},1395:function(t,e,r){"use strict";r.r(e);var i=r(321),n=r(1381),o=r(340),a=r(1396),s=n.Z.extend({DO_NOT_WAIT_FOR_PRELOAD:!0,initialize:function(){return n.Z.prototype.initialize.apply(this,arguments),"type_like_box"===this.current_type&&(this.current_type="type_page",this.type_page=this.type_like_box),this},render:function(){return this.makeBox("widget-facebook"),this.rendered=!0,this.started?this.start():!RM.screenshot&&this.widgetIsLoaded(),this},start:function(){if(this.started=!0,this.destroyed||!this.rendered||this.innerRendered)return this;this.innerRendered=!0;var t,e,r=this;return this.current_type?((e=this[this.current_type]).w=this.w,e.h=this.h,"mag"===e.use_own_url?e.url=this.page.mag.getUrl():"page"!==e.use_own_url&&e.url||(e.url=this.page.getUrl()),t=a.Z["template-constructor-block-facebook-"+this.current_type],this.$el.html(t({data:e})).removeClass(["type_like_button","type_page","type_comments"].join(" ")).addClass(this.current_type),"type_comments"===this.current_type?this.$el.css({"overflow-x":"hidden","overflow-y":"auto"}):"type_like_button"!==this.current_type&&this.$el.css({overflow:"hidden"}),o.Z.initFacebookAPI((function(){!r.destroyed&&r.innerRendered&&window.FB.XFBML.parse(r.$el.get(0),(function(){i.Z.delay((function(){!r.destroyed&&r.innerRendered&&(r.widgetIsLoaded(),"type_like_button"===r.current_type&&(r.iframe_w=r.$("iframe").width(),r.iframe_h=r.$("iframe").height()))}),500)}))})),this):(this.widgetIsLoaded(),this)},stop:function(){return this.started=!1,this}});e.default=s},1400:function(t,e,r){"use strict";r.r(e);var i=r(312),n=r(321),o=r(1381),a=r(340),s=r(344),l=o.Z.extend({DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){this.makeBox("widget-gmaps"),this.$el.html((0,i.ZP)('<div class="map-container"></div>')),this.rendered=!0;var t=this.api_key;return this.mag&&this.mag.opts&&this.mag.opts.gmaps_key&&this.mag.opts.gmaps_key!==this.api_key&&(t=this.mag.opts.gmaps_key),a.Z.initGMapsAPI(t,function(){this.destroyed||n.Z.defer(function(){this.destroyed||(s.Z.isOn(this.page.pageViewport,this.mag.getViewportWidth(this.page.pageViewport),this.mag.viewOpts)&&this.scale(),this.map=new google.maps.Map(this.$(".map-container").get(0),{zoom:this.map_zoom,center:new google.maps.LatLng(this.center_lat,this.center_lng),mapTypeId:this.map_type_id||google.maps.MapTypeId.ROADMAP,disableDefaultUI:!this.show_controls,streetViewControl:!1,scrollwheel:void 0===this.scrollwheel||!!this.scrollwheel}),this.marker_lat&&this.marker_lng&&"directions"!==this.current_type&&(this.marker=new google.maps.Marker({map:this.map,position:new google.maps.LatLng(this.marker_lat,this.marker_lng)}),google.maps.event.addListener(this.marker,"click",function(){this.infowindow&&this.infowindow.open(this.map,this.marker)}.bind(this)),this.infowindow=new google.maps.InfoWindow({maxWidth:this.w-100}),this.formatted_address?this.infowindow.setContent(this.formatted_address):(new google.maps.Geocoder).geocode({latLng:new google.maps.LatLng(this.marker_lat,this.marker_lng)},function(t,e){e===google.maps.GeocoderStatus.OK&&t[0]&&this.infowindow.setContent(t[0].formatted_address)}.bind(this))),"directions"===this.current_type&&this.direction_start_lat&&this.direction_start_lng&&this.direction_end_lat&&this.direction_end_lng&&this.direction_route_type?(this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer({preserveViewport:!0}),this.directionsService.route({origin:new google.maps.LatLng(this.direction_start_lat,this.direction_start_lng),destination:new google.maps.LatLng(this.direction_end_lat,this.direction_end_lng),travelMode:google.maps.TravelMode[this.direction_route_type.toUpperCase()]},function(t,e){e===google.maps.DirectionsStatus.OK&&(this.directionsDisplay.setDirections(t),this.directionsDisplay.setMap(this.map),google.maps.event.addListener(this.map,"tilesloaded",function(){this.widgetIsLoaded()}.bind(this)))}.bind(this))):google.maps.event.addListener(this.map,"tilesloaded",function(){this.widgetIsLoaded()}.bind(this)),"custom"===this.current_type&&this.custom_json&&this.map.setOptions({styles:JSON.parse(this.custom_json)}))}.bind(this))}.bind(this)),this},scale:function(){var t=this.mag.getScale(this.page.pageViewport),e=this.$(".map-container");if(s.Z.isCSSZoom())e.css("zoom",1/t);else if(s.Z.isCSSTransform()){var r=100*t,i=(r-100)/2;e.css({transform:"scale("+1/t+") translate(-"+i+"%, -"+i+"%)",width:r+"%",height:r+"%"})}},start:function(){return this.started=!0,this.rendered&&!this.destroyed&&this.map?(google.maps.event.trigger(this.map,"resize"),this.map.setCenter(new google.maps.LatLng(this.center_lat,this.center_lng)),this):this},destroy:function(){return this.map&&google.maps.event.clearListeners(this.map,"tilesloaded"),this.marker&&google.maps.event.clearListeners(this.marker,"click"),o.Z.prototype.destroy.apply(this,arguments)}});e.default=l},1379:function(t,e,r){"use strict";r.r(e);var i=r(1380),n=r(1384),o=r(1386),a=r(1391),s=r(1393),l=r(1395),c=r(1397),u=r(1399),d=r(1400),h=r(1401),p=r(1407),m=r(1411),f=r(1412),g=r(1414),y=r(1415),w=r(1389),b=r(1417),v=r(1424),_=r(1426);e.default={addtocart:i.default,audio:n.default,background:o.default,button:a.default,ecommercecart:s.default,facebook:l.default,form:c.default,picture:u.default,gmaps:d.default,hotspot:h.default,iframe:p.default,shape:m.default,slideshow:f.default,text:g.default,twitter:y.default,video:w.default,rmheader:b.default,rmfooter:v.default,shots:_.default}},1424:function(t,e,r){"use strict";r.r(e);var i=r(312),n=r(601),o=r(1381),a=r(344),s=r(689),l=r(1425),c=r(342),u=o.Z.extend({render:function(){var t=this.mag.viewport,e=this.page.pageViewport===c.sJ.Default&&t===c.sJ.PhonePortrait,r=[c.sJ.Default,c.sJ.TabletPortrait].includes(t)||e;return this.h=r?400:1199,this.w=this.mag.getViewportWidth(t),this.makeBox("widget-rm-footer"),this.propsModel=new Backbone.Model({isMobileViewport:!1,isFullSize:r,style:this.getStyles()}),this.$footer=(0,i.ZP)('<div style="height: 100%">').appendTo(this.$el).get(0),(0,s.renderReact)({component:l.Z,domElement:this.$footer,model:this.propsModel}),this.rendered=!0,this.widgetIsLoaded(),this},destroy:function(){return n.unmountComponentAtNode(this.$footer),o.Z.prototype.destroy.apply(this,arguments)},getStyles:function(){var t=this.page.pageViewport,e=this.mag.viewport,r=this.mag.getViewportWidth(t);if(!(t===c.sJ.Default&&e===c.sJ.Default)||a.Z.isOn(t,r,this.mag.viewOpts)){var i=this.mag.getScale(t),n=1/i,o=a.Z.isCSSZoom()&&e===c.sJ.Default&&t===c.sJ.Default,s=a.Z.isCSSTransform()&&e===c.sJ.Default&&t===c.sJ.Default,l=t===c.sJ.Default&&e===c.sJ.PhonePortrait,u=t===c.sJ.Default&&e===c.sJ.TabletPortrait;return l?{height:"".concat(this.h,"px"),"transform-origin":"left bottom"}:o?{zoom:n,width:"100%",height:"".concat(this.h,"px"),position:"absolute",bottom:0}:s||u?{width:"".concat(r*i,"px"),height:"".concat(this.h,"px"),transform:"scale(".concat(n,")"),"transform-origin":"left bottom"}:{}}},onPageResize:function(){var t;o.Z.prototype.onPageResize.apply(this,arguments),null===(t=this.propsModel)||void 0===t||t.set({style:this.getStyles()})}});e.default=u},1415:function(t,e,r){"use strict";r.r(e);var i=r(321),n=r(1381),o=r(1123),a=r(340),s=r(1416),l=n.Z.extend({CONTENT_WAIT_TICK:100,CONTENT_WAIT_MAX_TICKS:20,CONTENT_IMG_WAIT:1e3,DO_NOT_WAIT_FOR_PRELOAD:!0,render:function(){var t,e;return this.makeBox("widget-twitter"),this.rendered=!0,this.current_type?("mag"===(e=this[this.current_type]).use_own_url?e.url=this.page.mag.getUrl():"page"!==e.use_own_url&&e.url||(e.url=this.page.getUrl()),RM.screenshot||(e.text=o.getFinalShare(this.page,i.Z.extend(this.page.mag.model.toJSON(),{user:this.page.mag.user}),{forProject:"mag"===e.use_own_url,customDomain:RM.common.isDomainViewer}).tweet),t=s.Z["template-constructor-block-twitter-"+this.current_type],this.$el.html(t(e)),"type_timeline"===this.current_type&&this.$el.find("a").attr({width:this.w,height:this.h}),a.Z.initTwitterAPI(function(){this.destroyed||(window.twttr&&window.twttr.widgets&&i.Z.isFunction(window.twttr.widgets.load)&&window.twttr.widgets.load(),(0,i.Z)(["type_timeline","type_embed"]).contains(this.current_type)?this.waitForTwitterContent():this.widgetIsLoaded())}.bind(this)),this):(this.widgetIsLoaded(),this)},waitForTwitterContent:function(){var t,e,r,n=0,o=!1,a={type_timeline:".timeline-Widget",type_embed:"blockquote.tweet"};clearInterval(t),t=setInterval(i.Z.bind((function(){n++,this.destroyed?clearInterval(t):(1==(e=this.$el.find("iframe")).length&&(r=a[this.current_type],o=e.contents().find(r).length>0),(o||n>this.CONTENT_WAIT_MAX_TICKS)&&("type_embed"==this.current_type&&e.css({margin:0,"max-width":"100%"}),"type_timeline"==this.current_type&&(console.log("$frame : ",e),e.css({width:"100%",height:"100%!important","max-width":"100%"})),clearInterval(t),setTimeout(i.Z.bind((function(){this.widgetIsLoaded()}),this),this.CONTENT_IMG_WAIT)))}),this),this.CONTENT_WAIT_TICK)}});e.default=l}}]);